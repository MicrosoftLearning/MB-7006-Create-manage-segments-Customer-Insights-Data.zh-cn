---
lab:
  title: 实验室 1：引入数据集
---

# 实验室 1：引入数据集
在本实验室中，你将学习如何：
- 使用 PowerQuery 引入多个数据集
- 转换数据集并更改列类型
- 监视导入状态

为了创建客户细分，我们首先需要导入将在客户细分中使用的数据。 在此实验室中，我们将导入几个数据集作为统一数据并构建客户细分的先决条件。

## 练习 1：引入数据源
对于此引导项目，需要导入各种数据源。 这些数据源将用于创建统一的客户资料。

### 任务 1 - 从电子商务平台引入客户数据
1. 在 **Customer Insights - Data**中，展开左侧导航菜单上的“**数据**”，然后选择“**数据源**”。

1. 选择“**+ 添加数据源**”。 查看引入数据的可用方法。 对于此实验室，请选择 **Microsoft Power Query**，将源命名为“**电子商务**”，然后选择“**下一步**”。

1. 将显示 **Customer Insights** 能够引入的 **Power Query 数据源**视图。 记录可用的连接器类型。 选择**文本/CSV** 连接器。

1. 输入 `https://aka.ms/CI-ILT/Contacts` 作为**文件路径或 URL**，然后选择“**下一步**”。 数据上传可能需要一些时间。

1. 您现在应看到来自源的数据已制成表格。 选择“**转换数据**”，为引入的数据配置数据类型和格式。

1. 你将注意到，列标题已显示在数据的第一行中。 若要更正此问题，可以从“**主页**”选项卡中选择“**转换 > 使用第一行作为标题**”，或者选择“**转换**”选项卡，然后选择“**使用第一行作为标题**”。

1. 我们已从**文本/CSV 源**中引入数据，因此所有列都默认为“文本”**数据类型**。 要成功引入数据并对其进行建模，我们可以为非文本列设置数据类型。

1. 要更改数据类型，请选择列标题中的**ABC** 图标。 更新这些列的数据类型：
    - **DateOfBirth**：日期
    - **CreatedOn：** 日期
    - **收入：** 货币

1. 验证“**查询设置**”窗格中的“**名称**”字段是否设置为“**联系人**”。 选择**下一步**。

1. 选择“**手动刷新**”，然后选择“**保存**”。

恭喜。 现已使用数据集成功创建了第一个数据源！ 我们将在下一个任务中继续导入下一个数据集。

### 任务 2 - 从会员方案中引入客户数据
1. 在 **Customer Insights** 中，展开左侧菜单上的“**数据**”，然后选择“**数据源**”。

1. 选择“**+添加数据源**”，然后选择 **Microsoft Power Query** 作为导入方法。 将源命名为“**会员**”，然后选择**下一步**。

1. 选择**文本/CSV** 连接器。

1. 输入 `https://aka.ms/CI-ILT/LoyaltySchemeCustomers` 作为**文件路径或 URL**，选择“**下一步**”，然后选择“**转换数据**”。

1. 如前所述，选择**转换，** 然后选择**使用第一行作为标题。**

1. 更新这些列的数据类型：
    - **DateOfBirth**：日期
    - **RewardsPoints：** 整数
    - **CreatedOn：** 日期

1. 在“**查询设置**”窗格中将此查询重命名为“**客户**”，然后选择“**下一步**”。

1. 选择“**手动刷新**”，然后选择“**保存**”。

### 任务 3 - 从销售点购买引入客户数据
1. 在 **Customer Insights** 中，展开左侧导航菜单上的“**数据**”，然后选择“**数据源**”。

1. 选择“**+ 添加数据源**”，选择 **Microsoft Power Query** 并将源命名为 **PoS**，然后选择**下一步。**

1. 选择**文本/CSV** 连接器。

1. 输入 `https://aka.ms/CI-ILT/POSPurchases` 作为**文件路径或 URL**。 选择**下一步**，然后选择**转换数据。**

1. 如前所述，选择**转换，** 然后选择**使用第一行作为标题。**

1. 更新这些列的数据类型：
    - **PurchasedOn**：日期
    - **TotalPrice**：货币
    - **RewardPointsAdded：** 整数

1. 在“**查询设置**”窗格的“**名称**”字段中，将查询重命名为“**购买**”。

1. 选择**下一步**。

1. 选择“**手动刷新**”，然后选择“**保存**”。

### 任务 4 - 引入在线购买数据
1. 在此任务中，将引入“**在线购买**”数据，这些数据表示通过 **Contoso Coffee** 网站进行的购买。

1. 在 **Customer Insights** 中，展开左侧菜单上的“**数据**”，然后选择“**数据源**”。 （确保**电子商务**数据源的状态为“**成功**”。）

1. 选择在第一个任务中创建的**电子商务**数据集，然后选择“**编辑**”。 （如果数据仍在刷新，则需要等待刷新完成后再进行编辑。）

1. 选择**下一步**。 

1. 应该会显示在任务 1 中引入的**电子商务联系人**数据的 **Power Query** 视图。 在“**主页**”选项卡上选择“**获取数据**”。

1. 将显示 **Customer Insights** 能够引入的数据源连接器视图。 选择“文本/CSV”。

1. 输入 `https://aka.ms/CI-ILT/OnlinePurchases` 作为**文件路径或 URL**，然后选择“**下一步**”。 选择**创建**。

1. 如前所述，选择**转换**，然后选择**使用第一行作为标题。**

1. 更新以下列的数据类型：
    - **PurchasedOn**：日期
    - **TotalPrice**：货币

1. 将此查询命名为“**购买**”，然后选择“**保存**”。

**重要提示：** 必须等待所有数据源的状态为“**成功**”，然后才能转到下一个练习。
